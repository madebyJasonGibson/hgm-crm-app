<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HGM Insights CRM</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="app-container" aria-label="CRM Dashboard">
        <header>
            <div class="logo">
                <span class="material-icons" aria-hidden="true">insights</span>
                <h1>HGM Insights CRM</h1>
            </div>
            <div id="auth-section">
                <button id="login-btn" aria-label="Login with Google"><span class="material-icons">login</span> Login with Google</button>
                <div id="user-info" style="display: none;">
                    <span id="user-name"></span>
                    <button id="logout-btn" aria-label="Logout"><span class="material-icons">logout</span> Logout</button>
                </div>
            </div>
        </header>
        <div id="main-layout" style="display: none;">
            <aside class="sidebar" aria-label="Sidebar Navigation">
                <nav>
                    <ul>
                        <li><a href="#" data-view="dashboard" class="active-nav"><span class="material-icons">dashboard</span> Dashboard</a></li>
                        <li><a href="#" data-view="data-sources"><span class="material-icons">source</span> Data Sources</a></li>
                        <li><a href="#" data-view="settings"><span class="material-icons">settings</span> Settings</a></li>
                    </ul>
                </nav>
            </aside>
            <main class="content-area" aria-live="polite">
                <section id="dashboard-view" class="view active-view">
                    <h2>Dashboard</h2>
                    <div class="filters" aria-label="Dashboard Filters">
                        <label for="date-range">Date Range:</label>
                        <select id="date-range">
                            <option value="7d">Last 7 Days</option>
                            <option value="30d">Last 30 Days</option>
                            <option value="90d">Last 90 Days</option>
                        </select>
                        <button id="apply-filters-btn">Apply</button>
                    </div>
                    <div class="widgets-grid">
                        <div class="widget kpi-card">
                            <h3>Total Clicks (GSC)</h3>
                            <p id="kpi-gsc-clicks">--</p>
                            <small>vs previous period: <span class="positive-change">+0%</span></small>
                        </div>
                        <div class="widget kpi-card">
                            <h3>Total Sessions (GA4)</h3>
                            <p id="kpi-ga4-sessions">--</p>
                            <small>vs previous period: <span class="negative-change">0%</span></small>
                        </div>
                        <div class="widget kpi-card">
                            <h3>Avg. Position (GSC)</h3>
                            <p id="kpi-gsc-position">--</p>
                            <small>vs previous period: <span class="neutral-change">0.0</span></small>
                        </div>
                        <div class="widget chart-widget">
                            <h3>GSC Clicks & Impressions Over Time</h3>
                            <canvas id="gscLineChart" aria-label="GSC Line Chart"></canvas>
                        </div>
                        <div class="widget chart-widget">
                            <h3>GA4 Users by Source</h3>
                            <canvas id="ga4BarChart" aria-label="GA4 Bar Chart"></canvas>
                        </div>
                        <div class="widget table-widget">
                            <h3>Top Performing Pages (GSC + GA4)</h3>
                            <table id="top-pages-table">
                                <thead>
                                    <tr>
                                        <th>URL</th>
                                        <th>GSC Clicks</th>
                                        <th>GA4 Sessions</th>
                                        <th>Conversion Rate</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                            <div class="pagination">
                                <button>&lt; Prev</button>
                                <span>Page 1 of X</span>
                                <button>Next &gt;</button>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="data-sources-view" class="view" style="display:none;">
                    <h2>Manage Data Sources</h2>
                    <!-- GSC Card, GA4 Card, Sheets Card as before -->
                </section>
                <section id="settings-view" class="view" style="display:none;">
                    <h2>Settings</h2>
                    <p>Settings placeholder.</p>
                </section>
            </main>
        </div>
        <div id="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>
    <script src="js/app.js"></script>
</body>
</html>
